<!DOCTYPE html>
<!-- saved from url=(0054)https://iotdataohtaiwan.azurewebsites.net/Teams/Team11 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team11</title>

    
    
        <link rel="stylesheet" href="./Team11_files/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<meta name="x-stylesheet-fallback-test" content="" class="sr-only"><script>!function(a,b,c,d){var e,f=document,g=f.getElementsByTagName("SCRIPT"),h=g[g.length-1].previousElementSibling,i=f.defaultView&&f.defaultView.getComputedStyle?f.defaultView.getComputedStyle(h):h.currentStyle;if(i&&i[a]!==b)for(e=0;e<c.length;e++)f.write('<link href="'+c[e]+'" '+d+"/>")}("position","absolute",["\/lib\/bootstrap\/dist\/css\/bootstrap.min.css"], "rel=\u0022stylesheet\u0022 integrity=\u0022sha384-\/Y6pD6FV\/Vv2HJnA6t\u002BvslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M\u0022 crossorigin=\u0022anonymous\u0022 ");</script>
        <link rel="stylesheet" href="./Team11_files/site.min.css">
    
    <link href="./Team11_files/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body waid71fa0d88-5390-4b5b-a2f4-e45fa93d85e2="SA password protect entry checker">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
        <a class="navbar-brand navbar-openhack-logo" href="https://iotdataohtaiwan.azurewebsites.net/"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="https://iotdataohtaiwan.azurewebsites.net/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://iotdataohtaiwan.azurewebsites.net/Teams">Challenges</a>
                </li>
            </ul>
                <ul class="nav navbar-nav navbar-right">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#" id="loginDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">hacker2@OTAPRD420ops.onmicrosoft.com</a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="loginDropdown">
                <a class="dropdown-item" href="https://iotdataohtaiwan.azurewebsites.net/Account/SignOut">Sign Out</a>
            </div>
        </li>
    </ul>

        </div>
    </nav>

        <div class="container">
            
<div style="margin-bottom: 5px;">
    <h1 style="display: inline;">Team11</h1>
    <a class="btn btn-primary" href="https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR7Uip_vRnCZKvd8SN2AzdIJUQ1RNSFZYN0tOT0hTQTdQUjhSNUtUMjk4My4u" target="_blank" style="text-align: right; display: inline; float: right;">Got Feedback?</a>
</div>

<div id="accordion" class="team-challenges" role="tablist" aria-multiselectable="true">
            <div class="card">
                <div class="card-header  completed" role="tab" id="headingOpenHackIoTStage1">
                    <i class="float-right fa fa-check fa-lg text-success status-completed  challenge-status"></i>
                    <i class="float-right fa fa-check fa-lg text-warning status-verified d-none challenge-status"></i>
                    <i class="float-right fa fa-lock fa-lg status-disabled d-none challenge-status"></i>
                    <i class="float-right fa fa-times fa-lg d-none text-danger status-failed challenge-status"></i>
                    <i class="float-right fa fa-spinner fa-lg fa-spin d-none status-loading challenge-status"></i>
                    <i class="float-right fa fa-exclamation-circle fa-lg text-danger d-none status-error challenge-status"></i>

                    <h5 class="mb-0">
                        <a class="d-block text-left" data-toggle="collapse" data-parent="#accordion" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#collapseOpenHackIoTStage1" aria-expanded="false" aria-controls="collapseOpenHackIoTStage1">
                            Challenge 1 - Walk this way
                        </a>
                    </h5>
                </div>
                <div id="collapseOpenHackIoTStage1" class="collapse " role="tabpanel" aria-labelledby="headingOpenHackIoTStage1">
                    <div class="card-body">
                                <div class="text-center alert alert-info">Please work with your coach to validate your solution to this challenge</div>
                            <div class="text-center status-text alert alert-info d-none"></div>
                            <hr>
<h2 id="background">Background</h2>
<p>Wingtip Toys has determined IoT devices are the perfect tool to aid them in understanding visitor behavior. To test this theory, they would like to launch a pilot program where a simulated device is able to track visitors as they enter the park through turnstiles.</p>
<p>The pilot will include simulating entries into the park. Each member of the team will be responsible for creating a simulated scanner and ensuring all events flow to, and are visible in, a scalable telemetry ingestion solution which supports managing unique device identities. Each simulated turnstile needs to report an event each time a visitor enters the park. Wingtip Toys would like to ensure the solution can scale, and have requested the simulation report a visitor entering via each turnstile every second.</p>
<h2 id="technical-details">Technical Details</h2>
<p>Each event sent to the team's shared hub needs to be formated as JSON. Every event needs a globally unique identifier (GUID), which needs to be generated as part of the solution. A timestamp of the simulated entrance must also be recorded. The JSON should match the sample below:</p>
<pre><code class="language-javascript">{
    "ticketId": {{uniqueIdentifier}},
    "entryTime": {{currentTime}}
}
</code></pre>
<h2 id="success-criteria">Success Criteria</h2>
<ul>
<li><p>The team's ingestion environment needs to be deployed into the West US region</p>
</li>
<li><p>Configure and designate a single ingestion hub for the team. While each team member <em>may</em> create a unique hub in order to experience the hub creation process, all simulators should be transmitting to a single team hub by the end of this challenge</p>
</li>
<li><p>The team's hub must be scaled appropriately for the load generated in this challenge</p>
</li>
<li><p>The team's hub must be able to scale up as load increases with progress through the challenges</p>
</li>
<li><p>One simulated device per team member is required</p>
</li>
<li><p>The team must demonstrate to a coach that the streaming event data can be monitored remotely in real time</p>
<ul>
<li>Devices for all team members must be running at the same time</li>
<li>Each team member must execute an additional process which echoes any data that has been sent to the cloud from another team member's device</li>
</ul>
</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>An IDE or code editor</li>
<li>The team's assigned Azure subscription</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><p><strong>Read Me First!</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-compare-event-hubs/?wt.mc_id=OH-IoT-Data">Comparison of Azure IoT Hub and Azure Event Hubs</a>. See Supporting Information section for more.</li>
</ul>
</li>
<li><p><strong>Azure IoT</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-what-is-azure-iot/?wt.mc_id=OH-IoT-Data">Azure and the Internet of Things</a> gives an overview of creating IoT solutions in the cloud.</li>
<li><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-what-is-iot-hub/?wt.mc_id=OH-IoT-Data">What is IoT Hub?</a> provides information on getting started with <a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-get-started-simulated/?wt.mc_id=OH-IoT-Data">using IoT Hub</a>. The Resources section in the table of contents can point you to a variety of monitoring and diagnostic tools.</li>
</ul>
</li>
</ul>
<h2 id="supporting-information">Supporting Information</h2>
<ul>
<li><p>Read more about <a href="https://docs.microsoft.com/azure/architecture/data-guide/technology-choices/real-time-ingestion/?wt.mc_id=OH-IoT-Data">choosing a real-time message ingestion technology in Azure</a></p>
</li>
<li><p>While there is no objective success criteria for IoT Hub's built-in Event Hub compatible endpoint <a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-features#partitions/?wt.mc_id=OH-IoT-Data">partitioning</a>, it would be advantageous to understand related best practices. Read up on <a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-faq#best-practices/?wt.mc_id=OH-IoT-Data">Event Hubs - Best practices</a> and if in doubt, feel free to discuss them with a coach.</p>
</li>
<li><p><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-quotas-throttling/?wt.mc_id=OH-IoT-Data">IoT Hub quotas and throttling</a></p>
</li>
<li><p>Not all editions of Azure IoT Hub can be scaled up later. Read more at <a href="https://azure.microsoft.com/pricing/details/iot-hub/">IoT Hub Pricing</a>.</p>
</li>
</ul>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header  completed" role="tab" id="headingOpenHackIoTStage2">
                    <i class="float-right fa fa-check fa-lg text-success status-completed  challenge-status"></i>
                    <i class="float-right fa fa-check fa-lg text-warning status-verified d-none challenge-status"></i>
                    <i class="float-right fa fa-lock fa-lg status-disabled d-none challenge-status"></i>
                    <i class="float-right fa fa-times fa-lg d-none text-danger status-failed challenge-status"></i>
                    <i class="float-right fa fa-spinner fa-lg fa-spin d-none status-loading challenge-status"></i>
                    <i class="float-right fa fa-exclamation-circle fa-lg text-danger d-none status-error challenge-status"></i>

                    <h5 class="mb-0">
                        <a class="d-block text-left" data-toggle="collapse" data-parent="#accordion" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#collapseOpenHackIoTStage2" aria-expanded="false" aria-controls="collapseOpenHackIoTStage2">
                            Challenge 2 - Living on the edge
                        </a>
                    </h5>
                </div>
                <div id="collapseOpenHackIoTStage2" class="collapse " role="tabpanel" aria-labelledby="headingOpenHackIoTStage2">
                    <div class="card-body">
<form class="simulatorstartform">
    <div class="form-group row">
        <label for="ConnectionString" class="col-md-2 col-form-label">Connection String: </label>
        <div class="col-8">
            <input type="text" class="form-control" id="ConnectionString" name="ConnectionString" placeholder="HostName={hostName};SharedAccessKeyName={registryReadWrite or iothubowner};SharedAccessKey={primaryKey}" required="">
        </div>
        <div class="col-2 text-right">
            <button type="submit" class="btn btn-primary validate-button">Submit</button>
        </div>
    </div>
</form>                            <div class="text-center status-text alert alert-info d-none"></div>
                            <hr>
<h2 id="background">Background</h2>
<p>After the successful pilot, the IT staff of Wingtip Toys began the process of deploying the smart turnstiles to the entries to the park. However, there has been a shift in focus, as issues with the roller coasters have become a higher priority to the park. Various anomalies have been reported, such as photo equipment malfunctioning and trains breaking down. Because management sees the success of the roller coasters as key to the park, all resources must be dedicated to gathering data about the roller coasters.</p>
<p>Devices have already been deployed to the roller coasters that gather large amounts of data, including speed, acceleration, passenger count, and other key events for each run of each ride. Because of the amount of data being generated, Wingtip Toys would like to investigate using <a href="https://docs.microsoft.com/azure/iot-edge/?wt.mc_id=OH-IoT-Data">Azure IoT Edge</a> to process the data and manage ingestion. There are five trains in total across the roller coasters.</p>
<p>For purposes of deploying a pilot as quickly as possible, management would like to implement Azure IoT Edge as a proof of concept on just one train. The remaining four trains are already configured for streaming; once you provide your IoT Hub connection string to the IT staff, they will begin sending data from those trains.</p>
<p>Because Wingtip Toys is uncertain about what data they will be analyzing later, they have requested all data generated by the devices be stored. Wingtip Toys also realizes that asking questions over the data stream in near-real-time will be important, and wants to deploy a stream processing engine to consume the data being received from the coasters.</p>
<h2 id="technical-details">Technical Details</h2>
<ul>
<li><p>The IoT Hub connection string you submit during this challenge will be used to receive the stream from the four simulated trains</p>
</li>
<li><p>You will be configuring one (the fifth) train as a simulated Azure IoT Edge device</p>
</li>
<li><p>Instrument the prototype train utilizing the IoT Edge runtime with the following modules; each collects and returns a different type of data</p>
<ul>
<li><a href="https://hub.docker.com/r/openhack/iot-sim-1/">Module 1</a> - GPS data</li>
<li><a href="https://hub.docker.com/r/openhack/iot-sim-2/">Module 2</a> - Accelerometer</li>
<li><a href="https://hub.docker.com/r/openhack/iot-sim-3/">Module 3</a> - Events</li>
</ul>
</li>
<li><p>The solution chosen must allow for the archived data to arrive in storage within 2 hours of arriving at the buffered ingestion point</p>
<ul>
<li>This is to support the park's scheduled data processing that will start at 2:00 AM</li>
</ul>
</li>
</ul>
<h2 id="success-criteria">Success Criteria</h2>
<ul>
<li><p><strong>IoT &amp; Edge</strong></p>
<ul>
<li>The team's ingestion environment needs to be deployed into the West US region</li>
<li>In the OpenHack portal, submit a connection string for the team's IoT Hub. The connection string must support creation of new IoT Devices within the hub</li>
<li>The team must demonstrate to a coach successful deployment of the three supplied IoT Edge modules to one IoT Edge device</li>
<li>The team must demonstrate to a coach that data from the roller coaster trains is ingested in the team's hub</li>
</ul>
</li>
<li><p><strong>Stream Processing</strong></p>
<ul>
<li>The team's stream processing environment needs to deployed into the correct region (check with your coach for the correct region)</li>
<li>The team has deployed the chosen stream processing engine in Azure</li>
<li>The team has connected the stream processing engine to the team's buffered ingestion point and is able to demonstrate that they are able to read data from it
<ul>
<li>This does not need to be an interactive feed of data - a snapshot proving that it came off of the stream is acceptable</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Data Archival</strong></p>
<ul>
<li>The team must persist the data to a new container in the storage account that has been created for them in their subscription</li>
<li>The team should discuss the chosen data archival solution with a coach, and present an Azure Blob Storage container with the data</li>
<li>The data in the Azure Blob Storage container should be partitioned at the granularity of year, month, and day</li>
<li>If the chosen data archival tool supports it, the data persisted to storage should be compressed</li>
</ul>
</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><a href="https://docs.docker.com/engine/installation/">Docker</a>: Community Edition is sufficient</li>
</ul>
<h2 id="hints">Hints</h2>
<ul>
<li><p>Specify the tag of the module images so that the Azure IoT Edge runtime pulls the correct version.</p>
</li>
<li><p>More rides = more data = more IoT Hub capacity needed.</p>
</li>
<li><p>Many of the articles written for Spark on HDInsight can be used with Azure Databricks with little (or sometimes no) modification. If you can't find something in the Databricks documentation, look for the same thing on HDInsight.</p>
</li>
<li><p>For Spark Structured streaming, the data in the "body" column coming from IoT Hubs is in binary format. This is the default behavior of IoT Hubs/Event Hubs. The team should cast the binary data into String format to be able to work with it.</p>
</li>
<li><p>It might take a little while for your stream processing engine to connect to the stream and start consuming data. If it takes longer than 5 minutes, check with your coach.</p>
</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><p><strong>Read Me First!</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/architecture/data-guide/technology-choices/stream-processing/?wt.mc_id=OH-IoT-Data">Choosing a stream processing technology in Azure</a></li>
<li><a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-features#consumer-groups/?wt.mc_id=OH-IoT-Data">EventHubs Consumer Groups</a></li>
<li><a href="https://docs.azuredatabricks.net/spark/latest/gentle-introduction/gentle-intro.html#azure-gentle-introduction-to-apache-spark-azure">A Gentle Introduction to Apache Spark on Databricks</a></li>
<li><a href="http://spark.apache.org/docs/latest/structured-streaming-programming-guide.html">Spark Structured Streaming Programming Guide</a></li>
</ul>
</li>
<li><p><strong>IoT Hub &amp; Edge</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-edge/tutorial-simulate-device-windows/?wt.mc_id=OH-IoT-Data">Simulate an Edge device - Windows</a></li>
<li><a href="https://docs.microsoft.com/azure/iot-edge/tutorial-simulate-device-linux/?wt.mc_id=OH-IoT-Data">Simulate an Edge device - Linux</a></li>
<li><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-security#access-control-and-permissions/?wt.mc_id=OH-IoT-Data">IoT Hub Access Controls and Permissions</a></li>
</ul>
</li>
<li><p><strong>Stream Processing &amp; Data Storage - Spark</strong></p>
<ul>
<li><a href="https://ohcontent.blob.core.windows.net/ohnotebooks/HelperNotebooks.zip">Intro to Spark Notebook</a> - Consider working through our notebook if the team is new to Spark</li>
<li><a href="https://databricks.com/blog/2017/02/23/working-complex-data-formats-structured-streaming-apache-spark-2-1.html">Working with Complex Data Formats with Structured Streaming in Apache Spark 2.1</a> - Good information on dealing with converting from JSON to a tabular format.</li>
<li><a href="https://docs.microsoft.com/azure/hdinsight/spark/apache-spark-eventhub-structured-streaming#run-spark-shell-on-your-hdinsight-cluster/?wt.mc_id=OH-IoT-Data">Apache Spark Structured Streaming on HDInsight to process events from Event Hubs</a></li>
<li><a href="https://docs.databricks.com/spark/latest/data-sources/azure/azure-storage.html">Access Azure Blob Storage from Azure Databricks</a></li>
<li><a href="https://lenadroid.github.io/posts/connecting-spark-and-eventhubs.html">Using Spark on Azure Databricks to consume data from EventHubs</a></li>
</ul>
</li>
<li><p><strong>Stream Processing &amp; Data Storage - Azure Stream Analytics</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction/?wt.mc_id=OH-IoT-Data">What is Stream Analytics?</a></li>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-define-inputs/?wt.mc_id=OH-IoT-Data">Data connection: Learn about data stream inputs from events to Stream Analytics</a></li>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-define-outputs/?wt.mc_id=OH-IoT-Data">Stream Analytics outputs: Options for storage, analysis</a></li>
</ul>
</li>
</ul>
<h2 id="supporting-information">Supporting Information</h2>
<ul>
<li><p>If Spark is the team's chosen stream processing environment, an Event Hubs Connector is required to connect to the data stream. The current version of the connector can be found in GitHub <a href="https://github.com/Azure/azure-event-hubs-spark">Azure Event Hubs Connector for Apache Spark</a></p>
<ul>
<li>Direct Maven coordinates for the new Event Hubs Connector:
<ul>
<li>Azure Databricks: <a href="https://search.maven.org/#artifactdetails%7Ccom.microsoft.azure%7Cazure-eventhubs-spark_2.11%7C2.3.0%7Cjar">com.microsoft.azure:azure-eventhubs-spark_2.11:2.3.0</a></li>
<li>HDInsight: <a href="https://search.maven.org/#artifactdetails%7Ccom.microsoft.azure%7Cazure-eventhubs-spark_2.11%7C2.2.0-PREVIEW%7Cjar">com.microsoft.azure:azure-eventhubs-spark_2.11:2.2.0-PREVIEW</a></li>
</ul>
</li>
</ul>
</li>
<li><p>Note that the new EventHubs connector introduces a breaking change from older versions of the driver. The differences between the code for the two drivers are are outlined in the connector's <a href="https://github.com/Azure/azure-event-hubs-spark/wiki/What%27s-new-in-the-latest-connector%3F#migration-assistance-side-by-side-examples">wiki</a></p>
<ul>
<li>If the team prefers the old driver, the Maven coordinates for the connectors are:
<ul>
<li>Azure Databricks: <a href="http://search.maven.org/#artifactdetails%7Ccom.microsoft.azure%7Cazure-eventhubs-databricks_2.11%7C3.4.0%7Cjar">com.microsoft.azure:azure-eventhubs-databricks_2.11:3.4.0</a></li>
<li>HDInsight: <a href="http://search.maven.org/#artifactdetails%7Ccom.microsoft.azure%7Cazure-eventhubs-spark_2.11%7C2.1.6%7Cjar">com.microsoft.azure:azure-eventhubs-spark_2.11:2.1.6</a></li>
</ul>
</li>
</ul>
</li>
<li><p>Understand the Docker concept of <a href="https://docs.docker.com/glossary/?term=tag">tags</a> and <a href="https://docs.docker.com/engine/reference/commandline/pull/#examples">docker pull commands</a>; there is no need to pull images ahead of time.</p>
</li>
<li><p>Understand how to <a href="https://docs.microsoft.com/azure/iot-edge/troubleshoot/?wt.mc_id=OH-IoT-Data">troubleshoot Azure IoT Edge</a>.</p>
</li>
<li><p>Understand how to <a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-monitor-resource-health/?wt.mc_id=OH-IoT-Data">monitor and diagnose Azure IoT Hub</a>.</p>
</li>
<li><p>Understand Spark options in Azure - <a href="https://docs.microsoft.com/azure/hdinsight/spark/apache-spark-overview/?wt.mc_id=OH-IoT-Data">HDInsight</a> and <a href="https://docs.azuredatabricks.net/">Azure Databricks</a></p>
</li>
<li><p>Understand <a href="https://www.red-gate.com/simple-talk/cloud/cloud-data/ever-need-partition-big-raw-data/">Why Would I Ever Need to Partition My Big ‘Raw’ Data?</a></p>
</li>
<li><p>Understand <a href="https://hadoop.apache.org/docs/current/hadoop-azure/index.html">Hadoop Azure Support: Azure Blob Storage</a>.</p>
</li>
<li><p>Familiarize yourself with common <a href="http://spark.apache.org/docs/latest/api/python/pyspark.sql.html">PySpark SQL Functions</a> &amp; <a href="http://spark.apache.org/docs/latest/api/scala/index.html#org.apache.spark.sql.Column">Scala Spark SQL Column Functions</a></p>
</li>
<li><p>Introduction to Python <a href="https://wiki.python.org/moin/BeginnersGuide">Beginner's Guide to Python</a></p>
</li>
<li><p>Introduction to Scala <a href="http://docs.scala-lang.org/tour/tour-of-scala.html">Tour of Scala</a></p>
</li>
<li><p>Understand loading external libraries in <a href="https://docs.microsoft.com/azure/hdinsight/spark/apache-spark-jupyter-notebook-use-external-packages/?wt.mc_id=OH-IoT-Data">HDInsight</a> and <a href="https://docs.azuredatabricks.net/user-guide/libraries.html">Azure Databricks</a></p>
</li>
</ul>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header  completed" role="tab" id="headingOpenHackIoTStage3">
                    <i class="float-right fa fa-check fa-lg text-success status-completed  challenge-status"></i>
                    <i class="float-right fa fa-check fa-lg text-warning status-verified d-none challenge-status"></i>
                    <i class="float-right fa fa-lock fa-lg status-disabled d-none challenge-status"></i>
                    <i class="float-right fa fa-times fa-lg d-none text-danger status-failed challenge-status"></i>
                    <i class="float-right fa fa-spinner fa-lg fa-spin d-none status-loading challenge-status"></i>
                    <i class="float-right fa fa-exclamation-circle fa-lg text-danger d-none status-error challenge-status"></i>

                    <h5 class="mb-0">
                        <a class="d-block text-left" data-toggle="collapse" data-parent="#accordion" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#collapseOpenHackIoTStage3" aria-expanded="false" aria-controls="collapseOpenHackIoTStage3">
                            Challenge 3 - Jumping someone else's train
                        </a>
                    </h5>
                </div>
                <div id="collapseOpenHackIoTStage3" class="collapse " role="tabpanel" aria-labelledby="headingOpenHackIoTStage3">
                    <div class="card-body">
                                <div class="text-center alert alert-info">Please work with your coach to validate your solution to this challenge</div>
                            <div class="text-center status-text alert alert-info d-none"></div>
                            <hr>
<h2 id="background">Background</h2>
<p>With the deployment of the IoT devices and the capture of ingested telemetry, the time has come to turn our attention to analyzing that data. While there are numerous data points that could be extracted, Wingtip Toys would like to start by looking at passenger throughput. Park management needs to quickly understand passenger throughput so that they can assess which rides attract more customers and how efficiently staff members load and unload the trains.</p>
<p>To ensure that this and future analysis remains accurate, the lead architect of the project has indicated that only production data should flow through the data processing pipeline. As experimentation with IoT Edge continues, Wingtip Toys does not want the development team's <s>hacks and bugs</s> awesome new features to skew the metrics.</p>
<p>Additionally, the architect has decided that the accelerometer data must be split to its own stream. The higher volume and frequency of this data makes it an ideal candidate for isolation. Wingtip Toys already has some preliminary plans for the accelerometer data, and while they're not ready to make full use of it yet, the isolation allows each processing job to focus on the relevant data.</p>
<h2 id="technical-details">Technical Details</h2>
<ul>
<li><p>Recall that a connection string for the team's IoT Hub was submitted in the previous challenge. Four additional trains are now sending data to the team's IoT Hub.</p>
</li>
<li><p>The shape of the data from the four additional trains is the same as the data coming from the IoT Edge modules.</p>
</li>
<li><p>The messages sent from the trains include a header property named <code>environment</code>. This property indicates whether the train is running stable production code or experimental development code.</p>
</li>
<li><p>Behavior of IoT Edge modules can be controlled remotely without the need to change code or redeploy modules.</p>
</li>
<li><p>Since streaming data will not provide predictable output, test data has been provided in Azure Blob Storage that can be used during the development of the streaming queries. Once the solution has been developed, the team must switch to streaming data for validation.</p>
</li>
</ul>
<h2 id="success-criteria">Success Criteria</h2>
<ul>
<li><p><strong>Controlling Edge Module Behavior</strong></p>
<ul>
<li>The team must demonstrate that the data being sent from edge modules specifies the <code>development</code> value for the <code>environment</code> property in the message headers</li>
<li>The team must demonstrate how to change <code>development</code> to any arbitrary value that the coach specifies without changing code or redeploying the modules</li>
</ul>
</li>
<li><p><strong>Routing Data</strong></p>
<ul>
<li>All data where <code>environment</code> does not equal <code>production</code> must be routed to a distinct endpoint, such that it does not impact stability</li>
<li>All <em>accelerometer</em> data for which <code>environment</code> equals <code>production</code> are routed to separate endpoint, as it will be analyzed at a later date</li>
</ul>
</li>
<li><p><strong>Rider Count Reporting</strong></p>
<ul>
<li><p>The team must choose a persistent, queryable store and deploy it into Azure for storing the output of the streaming queries, and that store must be deployed into the team's designated region</p>
</li>
<li><p>The team's reporting solution must:</p>
<ul>
<li>Process the incoming real-time data stream, not the static test data provided in blob storage nor the data that was stored in Challenge 2</li>
<li>Account for late arriving and out-of-order events when processing data - assume a 5-minute window for late arriving events</li>
<li>For each roller coaster, generate the count of ride starts and sum of riders over a 5 minute tumbling window</li>
<li>The tumbling window must be computed based on the timestamp reported within the message - not the time that the message arrived at the buffered ingestion point</li>
</ul>
</li>
<li><p>The team must demonstrate to a coach a successfully running stream processing job which sends the query results to the team's chosen persistent store. The output must contain the following information:</p>
<ul>
<li>Roller coaster (ride) identifier</li>
<li>Start time of tumbling window</li>
<li>Count of ride starts per coaster</li>
<li>Sum of riders per coaster</li>
</ul>
</li>
<li><p>The team must demonstrate to a coach a visualization or chart displaying the persisted query data</p>
</li>
</ul>
</li>
</ul>
<h2 id="hints">Hints</h2>
<ul>
<li><p>Handling routing first will make monitoring and streaming data easier</p>
</li>
<li><p>Verify any assumptions about the data types of message properties</p>
</li>
<li><p>Don't forget about late-arriving events</p>
</li>
<li><p>Spark Structured Streaming supports writing SQL queries over data, such as <code>spark.sql('SELECT * FROM myTable')</code></p>
<ul>
<li>Apache Hive style SQL language is also available, although not all functions are supported</li>
</ul>
</li>
<li><p>When using Spark Structured Streaming, an operator required for these challenges is only supported when using Java or Scala as of the current Spark release. It is still possible to accomplish this challenge in Python - it just requires an extra processing step</p>
</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><p><strong>Read Me First!</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/architecture/data-guide/technology-choices/analytical-data-stores/?wt.mc_id=OH-IoT-Data">Choosing an analytical data store in Azure</a></li>
</ul>
</li>
<li><p><strong>Controlling Edge Module Behavior</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-edge/tutorial-csharp-module/?wt.mc_id=OH-IoT-Data">IoT Edge Module Development</a></li>
<li><a href="https://docs.microsoft.com/azure/iot-edge/module-composition/?wt.mc_id=OH-IoT-Data">Azure IoT Edge Module Composition</a></li>
</ul>
</li>
<li><p><strong>Routing Data</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messages-d2c/?wt.mc_id=OH-IoT-Data">Device-to-Cloud Messaging with IoT Hub</a></li>
</ul>
</li>
<li><p><strong>Rider Count Reporting - Spark</strong></p>
<ul>
<li><a href="http://spark.apache.org/docs/latest/structured-streaming-programming-guide.html">Spark Structured Streaming Programming Guide</a></li>
<li><a href="https://spark.apache.org/docs/latest/sql-programming-guide.html">Spark SQL Programming Guide</a></li>
<li><a href="https://databricks.com/blog/2017/02/23/working-complex-data-formats-structured-streaming-apache-spark-2-1.html">Working with Complex Data Formats with Structured Streaming in Apache Spark 2.1</a> - Good information on dealing with converting from JSON to a tabular format.</li>
<li><a href="https://docs.microsoft.com/azure/hdinsight/spark/apache-spark-eventhub-structured-streaming#run-spark-shell-on-your-hdinsight-cluster/?wt.mc_id=OH-IoT-Data">Apache Spark Structured Streaming on HDInsight to process events from Event Hubs</a></li>
<li><a href="https://docs.databricks.com/spark/latest/data-sources/azure/azure-storage.html">Access Azure Blob Storage from Azure Databricks</a></li>
<li><a href="https://lenadroid.github.io/posts/connecting-spark-and-eventhubs.html">Using Spark on Azure Databricks to consume data from EventHubs</a></li>
<li><a href="https://github.com/Azure/azure-cosmosdb-spark/tree/master/samples/lambda">Lambda Architecture with Azure Cosmos DB and HDinsight</a></li>
<li><a href="https://docs.microsoft.com/azure/hdinsight/spark/apache-spark-connect-to-sql-database/?wt.mc_id=OH-IoT-Data">Use HDInsight Spark cluster to read and write data to Azure SQL database</a></li>
</ul>
</li>
<li><p><strong>Rider Count Reporting - Azure Stream Analytics</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-get-started-with-azure-stream-analytics-to-process-data-from-iot-devices/?wt.mc_id=OH-IoT-Data">Get started with Azure Stream Analytics to process data from IoT devices</a></li>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-window-functions/?wt.mc_id=OH-IoT-Data">Introduction to Stream Analytics Window functions</a></li>
<li><a href="https://msdn.microsoft.com/azure/stream-analytics/reference/stream-analytics-query-language-reference">Stream Analytics Query Language Reference</a></li>
</ul>
</li>
<li><p><strong>Rider Count Reporting - Visualization</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/power-bi/desktop-getting-started/?wt.mc_id=OH-IoT-Data">Getting started with Power BI Desktop</a></li>
</ul>
</li>
</ul>
<h2 id="supporting-information">Supporting Information</h2>
<ul>
<li>Test data has been provided in the team's subscription to <em>optionally</em> test queries prior to attaching to the data stream. The following information can be used to cnnect to the data:
<ul>
<li>Storage Account Name: <code>openhackiotdata###stor</code>, where <code>###</code> is the three-digit number for the team (left-padded with zeros)</li>
<li>For Spark:
<ul>
<li>Container Name: <code>hotpath</code></li>
<li>Folder Name: <code>HotPathTestData</code></li>
</ul>
</li>
<li>For ASA:
<ul>
<li>Container Name: <code>hotpathasa</code></li>
<li>Folder Name: <code>HotPathTestData</code></li>
</ul>
</li>
</ul>
</li>
<li>While it will not be covered during this event, one of the future uses for the accelerometer data could be machine learning for predictive ride maintenance</li>
</ul>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header  " role="tab" id="headingOpenHackIoTStage4a">
                    <i class="float-right fa fa-check fa-lg text-success status-completed d-none challenge-status"></i>
                    <i class="float-right fa fa-check fa-lg text-warning status-verified d-none challenge-status"></i>
                    <i class="float-right fa fa-lock fa-lg status-disabled d-none challenge-status"></i>
                    <i class="float-right fa fa-times fa-lg d-none text-danger status-failed challenge-status"></i>
                    <i class="float-right fa fa-spinner fa-lg fa-spin d-none status-loading challenge-status"></i>
                    <i class="float-right fa fa-exclamation-circle fa-lg text-danger d-none status-error challenge-status"></i>

                    <h5 class="mb-0">
                        <a class="d-block text-left" data-toggle="collapse" data-parent="#accordion" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#collapseOpenHackIoTStage4a" aria-expanded="true" aria-controls="collapseOpenHackIoTStage4a">
                            Challenge 4a - You can't always get what you want
                        </a>
                    </h5>
                </div>
                <div id="collapseOpenHackIoTStage4a" class="collapse show" role="tabpanel" aria-labelledby="headingOpenHackIoTStage4a">
                    <div class="card-body">
                                <div class="text-center alert alert-info">Please work with your coach to validate your solution to this challenge</div>
                            <div class="text-center status-text alert alert-info d-none"></div>
                            <hr>
<h2 id="background">Background</h2>
<p>Part of a complete experience at any amusement park, and in particular thrill rides such as a roller coaster, is the ability to have a memento of the occasion. Wingtip Toys sells stylized photos of people on the ride at key moments, such as the big drop on IoT-Rex. Guests love the pictures, and it makes them happy to share them with their friends. Wingtip Toys is also happy about the revenue from picture sales and their ability to use the pictures for marketing!</p>
<p>Unfortunately, the camera equipment has been failing. This is concerning: a guest might not have the ability to purchase a picture, leading to them being disappointed with the ride, and having a negative impact on their experience in the park. Every effort must be made to ensure cameras are operating correctly. A report needs to be created that displays when cameras don't operate correctly.</p>
<h2 id="success-criteria">Success Criteria</h2>
<ul>
<li><p>The solution must implement <strong>both</strong> of the following, and the team will compare and contrast both implementations with your coach:</p>
<ul>
<li>A module must be added to the team's Azure IoT Edge to detect rides that end without a photo being triggered in the ride data generated on the same edge device</li>
<li>A job must be added to the team's stream processing environment to detect rides that end without a photo being triggered in the ride data from the <code>production</code> stream</li>
</ul>
</li>
<li><p>The team's stream processing solution must:</p>
<ul>
<li>Process the incoming real-time data stream, not the static test data provided in blob storage nor the data that was stored in Challenge 2</li>
<li>Account for late arriving and out-of-order events when processing data - assume a 5-minute window for late arriving events</li>
<li>Use the timestamp reported within the message body - not the time that the message arrived at the buffered ingestion point</li>
</ul>
</li>
<li><p>In both of the implementations, the output of the query must be sent to the queryable data store that was set up in Challenge 3, and must contain the following information:</p>
<ul>
<li>Roller coaster (ride) identifier</li>
<li>Ride vehicle (train) identifier</li>
<li>Correlation ID</li>
<li>End time of offending ride</li>
</ul>
</li>
<li><p>A new visualization must be created for all alert data generated in this challenge</p>
</li>
<li><p>A dashboard must be created that presents any new visualization from this challenge alongside the visualization created in Challenge 3</p>
</li>
</ul>
<h2 id="hints">Hints</h2>
<ul>
<li><p>The stream processing portion of this challenge can be done multiple ways - two of which are grouping and joining.  If Spark is the stream processing engine of choice, joining is only supported in Azure Databricks at this time, not in HDInsight.</p>
</li>
<li><p>The <code>correlationId</code> is a ride instance ID and is unique per run of the roller coaster. Multiple events are generated per ride instance, and <code>correlationId</code> can be used to tie those events together.</p>
</li>
<li><p>Due to the nature of the tooling used to simulate data during this event, be aware that Correlation IDs:</p>
<ul>
<li>May be duplicated after a 24-hour period in the production stream.</li>
<li>May be duplicated after a 1-hour period in the development data from your IoT Edge devices.</li>
</ul>
</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><p><strong>Edge Development</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/iot-edge/iot-edge-modules/?wt.mc_id=OH-IoT-Data">Understand Azure IoT Edge Modules</a></li>
<li><a href="https://docs.microsoft.com/azure/iot-edge/module-composition/?wt.mc_id=OH-IoT-Data">Azure IoT Edge Module Composition</a></li>
<li><a href="https://docs.microsoft.com/azure/iot-edge/tutorial-csharp-module/?wt.mc_id=OH-IoT-Data">Develop and Deploy C# Module</a></li>
</ul>
</li>
<li><p><strong>Cloud Processing - Spark</strong></p>
<ul>
<li><a href="http://spark.apache.org/docs/latest/structured-streaming-programming-guide.html">Structured Streaming Programming Guide</a></li>
<li><a href="https://spark.apache.org/docs/latest/sql-programming-guide.html">Spark SQL Programming Guide</a></li>
<li><a href="https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#join-operations">Joins in Spark Structured Streaming</a></li>
</ul>
</li>
<li><p><strong>Cloud Processing - Azure Stream Analytics</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/stream-analytics/stream-analytics-stream-analytics-query-patterns#query-example-correlate-two-event-types-within-the-same-stream/?wt.mc_id=OH-IoT-Data">Query example: Correlate two event types within the same stream</a></li>
<li><a href="https://msdn.microsoft.com/azure/stream-analytics/reference/with-azure-stream-analytics">WITH (Azure Stream Analytics)</a></li>
</ul>
</li>
<li><p><strong>Visualization</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/power-bi/service-basic-concepts/?wt.mc_id=OH-IoT-Data">Power BI - basic concepts for Power BI service</a></li>
<li><a href="https://docs.microsoft.com/power-bi/desktop-upload-desktop-files/?wt.mc_id=OH-IoT-Data">Publish from Power BI Desktop</a></li>
</ul>
</li>
</ul>
<h2 id="supporting-information">Supporting Information</h2>
<ul>
<li><p>One of the goals of the challenge is to be able to compare and contrast two possible solutions for the same issue by implementing them both</p>
</li>
<li><p>While it will not be covered during this event, one advantage of processing on the edge is the ability to control devices without cloud connectivity or latency concerns</p>
</li>
<li><p>Test data has been provided in the team's subscription to <em>optionally</em> test queries prior to attaching to the data stream. The following information can be used to cnnect to the data:</p>
<ul>
<li>Storage Account Name: <code>openhackiotdata###stor</code>, where <code>###</code> is the three-digit number for your team (left-padded with zeros)</li>
<li>For Spark:
<ul>
<li>Container Name: <code>hotpath</code></li>
<li>Folder Name: <code>HotPathTestData</code></li>
</ul>
</li>
<li>For ASA:
<ul>
<li>Container Name: <code>hotpathasa</code></li>
<li>Folder Name: <code>HotPathTestData</code></li>
</ul>
</li>
</ul>
</li>
</ul>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header  " role="tab" id="headingOpenHackIoTStage4b">
                    <i class="float-right fa fa-check fa-lg text-success status-completed d-none challenge-status"></i>
                    <i class="float-right fa fa-check fa-lg text-warning status-verified d-none challenge-status"></i>
                    <i class="float-right fa fa-lock fa-lg status-disabled d-none challenge-status"></i>
                    <i class="float-right fa fa-times fa-lg d-none text-danger status-failed challenge-status"></i>
                    <i class="float-right fa fa-spinner fa-lg fa-spin d-none status-loading challenge-status"></i>
                    <i class="float-right fa fa-exclamation-circle fa-lg text-danger d-none status-error challenge-status"></i>

                    <h5 class="mb-0">
                        <a class="d-block text-left" data-toggle="collapse" data-parent="#accordion" href="https://iotdataohtaiwan.azurewebsites.net/Teams/Team11#collapseOpenHackIoTStage4b" aria-expanded="false" aria-controls="collapseOpenHackIoTStage4b">
                            Challenge 4b - Data, it's cold outside
                        </a>
                    </h5>
                </div>
                <div id="collapseOpenHackIoTStage4b" class="collapse " role="tabpanel" aria-labelledby="headingOpenHackIoTStage4b">
                    <div class="card-body">
                                <div>
                                    <h5>
                                        Server Name: openhack-iot-data-taiwan-2-sqlserver <br>
                                        Database Name: OpenHack-IoT-Data-Team11-DW <br>
                                        Login: Team11 <br>
                                        Password: DD012065-8BFC <br>
                                    </h5>
                                </div>
                                <div class="text-center alert alert-info">Please work with your coach to validate your solution to this challenge</div>
                            <div class="text-center status-text alert alert-info d-none"></div>
                            <hr>
<h2 id="background">Background</h2>
<p>It's now 21 months in the future. While there are still no flying cars, save for the one launched into orbit, Wingtip Toys has seen a great deal of success with their amusement park, in no small part to the effort this team has put forth. They've contracted you again to help them sift through all of the data that's been generated over that time.</p>
<p>Wingtip Toys is considering opening a second park. In order to do so, they'd like to collect information about the performance of their current park, which can be used as benchmark data for the opening of the new one. They will do this by asking question over months and years worth of data that is stored in their relational data warehouse.</p>
<p>There is some concern about the quality and structure of the data. Some time will need to be spent to cleanse and prepare the data before any report can be generated. All data is in a <a href="https://en.wikipedia.org/wiki/Data_lake">data lake</a>, and needs to be <a href="https://iotdataohtaiwan.azurewebsites.net/ReferenceContent/Concepts">curated and imported</a> into a data warehouse.</p>
<h2 id="technical-details">Technical Details</h2>
<ul>
<li><p>Wingtip Toys already has an Azure Blob Storage account set up containing the necessary information, which will need to be curated and loaded into an Azure SQL Data Warehouse</p>
</li>
<li><p>Newly imported facts must match the <a href="https://iotdataohtaiwan.azurewebsites.net/ReferenceContent/FactTableSchema">schema provided</a>, which already contains 21 months of processed data</p>
</li>
<li><p>The data lake contains parquet files that use the following <a href="https://iotdataohtaiwan.azurewebsites.net/ReferenceContent/MessageDefinitions">schema for messages</a></p>
</li>
<li><p>The source data contains corrupt values, which must be resolved</p>
<ul>
<li>Duplicate Records:
<ul>
<li>The "Ride Start" sensor sometimes fires multiple times for a single correlation ID
<ul>
<li>Resolve by using the instance of the event with the earliest timestamp and ignore the rest</li>
<li>Generate a log for each occurrence, either to a file or a database table, which includes the records that you found and ignored</li>
</ul>
</li>
</ul>
</li>
<li>Invalid Data:
<ul>
<li>Speed sensors on the Location records sometimes report a negative value
<ul>
<li>Resolve by ignoring the records with a negative speed value</li>
<li>Generate a log for each occurrence, either to a file or a database table, which includes the records that you found and ignored</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="success-criteria">Success Criteria</h2>
<ul>
<li><p>Only the raw data which is relevant to the questions being asked has been processed</p>
</li>
<li><p>The data warehouse will include an additional day's worth of raw data for each message type with the invalid data filtered out</p>
</li>
<li><p>The data warehouse will have an additional day's worth of fact data produced</p>
</li>
<li><p>Provide answers to the following three questions</p>
<ul>
<li>What is the total number of rides per roller coaster per day for September 2017?</li>
<li>What is the average number of riders per hour per roller coaster on the first day of each month?</li>
<li>What is the difference between the average ride duration per roller coaster on the first day of October 2017 compared to the first day of October 2016?</li>
</ul>
</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><p><strong>Read Me First!</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/architecture/data-guide/scenarios/data-warehousing/?wt.mc_id=OH-IoT-Data">Data warehousing and data marts</a></li>
</ul>
</li>
<li><p><strong>Data Loading</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-get-started-load-with-polybase/?wt.mc_id=OH-IoT-Data">Load data with PolyBase in SQL Data Warehouse</a></li>
</ul>
</li>
<li><p><strong>Data Transformation</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/sql/t-sql/language-reference/?wt.mc_id=OH-IoT-Data">Transact-SQL Reference (Database Engine)</a></li>
<li><a href="http://spark.apache.org/docs/latest/sql-programming-guide.html">Spark SQL, DataFrames and Datasets Guide</a></li>
<li><a href="https://docs.microsoft.com/azure/data-factory/transform-data/?wt.mc_id=OH-IoT-Data">Transform data in Azure Data Factory</a></li>
</ul>
</li>
<li><p><strong>SQL Tooling</strong></p>
<ul>
<li><a href="https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms/?wt.mc_id=OH-IoT-Data">SQL Server Management Studio</a></li>
<li><a href="https://docs.microsoft.com/sql/sql-operations-studio/download/?wt.mc_id=OH-IoT-Data">SQL Operations Studio</a></li>
</ul>
</li>
</ul>
<h2 id="supporting-information">Supporting Information</h2>
<ul>
<li><p>Raw data</p>
<ul>
<li>Storage Account: <code>openhackiotdata###stor</code>, where <code>###</code> is the three-digit number for your team (left-padded with zeros)</li>
<li>Storage Container: <code>coldpath</code></li>
</ul>
</li>
<li><p>The provided data lake has been grouped into folders for each event type, and then partitioned by year, month and day</p>
</li>
<li><p>The provided data has been transformed from its original JSON into <a href="https://parquet.apache.org/">Parquet</a> files - and the schema and data <a href="https://iotdataohtaiwan.azurewebsites.net/ReferenceContent/MessageDefinitions">type definitions are included</a></p>
</li>
<li><p>When creating a data warehouse, three types of tables are typically required:</p>
<ul>
<li>Fact tables, which contain the numerical values to report</li>
<li>Dimension tables, which describe the values, providing names and context</li>
<li>Time dimension tables, which are used for time slicing and querying</li>
</ul>
</li>
<li><p>When using the <a href="https://en.wikipedia.org/wiki/Extract,_transform,_load">extract-transform-load, or ETL</a> pattern for importing data, consider using tools such as SQL Server Integration Services (SSIS) or Spark</p>
</li>
<li><p>When using the <a href="https://en.wikipedia.org/wiki/Extract,_load,_transform">extract-load-transform, or ELT</a> pattern for importing data, consider loading the data directly into the target platform then using that platform to process the data</p>
</li>
</ul>
                    </div>
                </div>
            </div>
</div>


        </div>

    
    
        <script src="./Team11_files/jquery.min.js.下載" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script>(window.jQuery||document.write("\u003Cscript src=\u0022\/lib\/jquery\/dist\/jquery.min.js\u0022 integrity=\u0022sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\u0022 crossorigin=\u0022anonymous\u0022\u003E\u003C\/script\u003E"));</script>
        <script src="./Team11_files/popper.min.js.下載" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
        <script src="./Team11_files/bootstrap.min.js.下載" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
<script>(window.jQuery && window.jQuery.fn && window.jQuery.fn.modal||document.write("\u003Cscript src=\u0022\/lib\/bootstrap\/dist\/js\/bootstrap.min.js\u0022 integrity=\u0022sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1\u0022 crossorigin=\u0022anonymous\u0022\u003E\u003C\/script\u003E"));</script>
        <script src="./Team11_files/site.min.js.下載"></script>
    

    
<script>
    $(function () {
        $('form.challenge-validation-form').submit(function (ev) {
            ev.preventDefault();

            var form = $(this);
            var card = form.parentsUntil('#accordion');
            OpenHack.setChallengeStatus(card, 'loading', 'Verifying solution...');
            //add challenge to api post request to separate endpoint verification by challenge (challenges 1, 3, 4)
            $.ajax({
                url: '/api/teams/9b078564-9210-404a-ad87-1a921924ab1c/verify',
                method: 'POST',
                contentType: 'application/json',
                data: form.getJSON()
            }).then(function (result) {
                if (result.isValid) {
                    OpenHack.setChallengeStatus(card, 'verified', 'Coach verification required to unlock next challenge');
                } else {
                    OpenHack.setChallengeStatus(card, 'failed', result.message);
                }
            }).fail(function (error) {
                var errorText = error.responseText || error.statusText;
                if (error.status === 500) {
                    errorText = "An unexpected error has occurred";
                } else if (error.status === 401 || error.status === 403) {
                    // Redirect to home on unauthorized/forbidden, most commonly caused by token expiration
                    errorText = "Unauthorized or token expired, redirecting to login";
                    window.location = '/';
                }
                OpenHack.setChallengeStatus(card, 'error', errorText);
            });
        });
        $('form.simulatorstartform').submit(function (ev) {
            ev.preventDefault();

            var form = $(this);
            var card = form.parentsUntil('#accordion');
            OpenHack.setChallengeStatus(card, 'loading', 'Submitting hub information...');
            $.ajax({
                url: '/api/teams/9b078564-9210-404a-ad87-1a921924ab1c/OpenHackIoTStage4a/startsim',
                method: 'POST',
                contentType: 'application/json',
                data: form.getJSON()
            }).then(function (result) {
                if (result.isValid) {
                    OpenHack.setChallengeStatus(card, 'verified', result.message);
                } else {
                    OpenHack.setChallengeStatus(card, 'failed', result.message);
                }
            }).fail(function (error) {
                var errorText = error.responseText || error.statusText;
                if (error.status === 500) {
                    errorText = "An unexpected error has occurred";
                } else if (error.status === 401 || error.status === 403) {
                    // Redirect to home on unauthorized/forbidden, most commonly caused by token expiration
                    errorText = "Unauthorized or token expired, redirecting to login";
                    window.location = '/';
                }
                OpenHack.setChallengeStatus(card, 'error', errorText);
            });
        });
        $('form.challenge2form').submit(function (ev) {
            ev.preventDefault();

            var form = $(this);
            var card = form.parentsUntil('#accordion');
            OpenHack.setChallengeStatus(card, 'loading', 'Verifying solution...');
            $.ajax({
                url: '/api/teams/9b078564-9210-404a-ad87-1a921924ab1c/OpenHackIoTStage4a/verify/tsi',
                method: 'POST',
                contentType: 'application/json',
                data: form.getJSON()
            }).then(function (result) {
                if (result.isValid) {
                    OpenHack.setChallengeStatus(card, 'verified', 'Coach verification required to unlock next challenge');
                } else {
                    OpenHack.setChallengeStatus(card, 'failed', result.message);
                }
            }).fail(function (error) {
                var errorText = error.responseText || error.statusText;
                if (error.status === 500) {
                    errorText = "An unexpected error has occurred";
                } else if (error.status === 401 || error.status === 403) {
                    // Redirect to home on unauthorized/forbidden, most commonly caused by token expiration
                    errorText = "Unauthorized or token expired, redirecting to login";
                    window.location = '/';
                }
                OpenHack.setChallengeStatus(card, 'error', errorText);
            });
        });
    });
</script>



</body></html>